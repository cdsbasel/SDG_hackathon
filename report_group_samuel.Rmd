---
title: "Unibas SDG Report"
description: |
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r}
library(tidyverse)

# read data
publications <- read_csv('0_data/publications_sdg.csv')
projects <- read_csv('0_data/projects_sdg.csv')
```


# Introduction

Describe mission: Detect SDGs in research output of the University of Basel per request of Sustainability Office of Unibas.

<img src="https://upload.wikimedia.org/wikipedia/commons/d/df/Sustainable_Development_Goals.png"></img>

### Data

Research database & Grants office database

Three files correspinding to different research items: publications, projects (self funded), projects (externally funded)


### Methodological 

Limit to 2010 to 2020

Query search using Aurora (Link) and Elsevier (Link). Goldstandard? What are other Universities doing (Comparable)? Why are they different? Discuss caveats.
 
Conducted using corpustools R package and translations of the queries.

Choice of organizational unit

# Distribution of SDG

Text including numbers computed using inline code: No. articles, No. of projects, No. of matches (any SDG) in both. 

Text describing results in Figure. 

Figure showing frequency of SDG matches by SDG, output type (publication, self-funded project, externally-funded project)

```{r}

# count occurences
pub = publications %>% select(starts_with("SDG")) %>% colSums() %>% t() %>% as_tibble() %>% pivot_longer(everything()) %>% mutate(type = "publication")
pro = projects %>% select(starts_with("SDG")) %>% colSums() %>% t() %>% as_tibble() %>% pivot_longer(everything()) %>% mutate(type = "project")
alltypes = bind_rows(pub, pro)

# plot publication frequencies
ggplot(data = pub) +
  geom_col(mapping = aes(x = name, y = value, fill = name)) +
  theme_minimal() +
  scale_fill_viridis_d() +
  theme(
    legend.position = "none",
    axis.text.x = element_text(angle = 45, hjust = 1)
  ) +
  labs(
    title = "SDG Frequencies",
    subtitle = "Number of publications related to SDGs at University of Basel",
    x = "SDG",
    y = "Frequency"
  )

ggplot(data = pro) +
  geom_col(mapping = aes(x = name, y = value, fill = name)) +
  theme_minimal() +
  scale_fill_viridis_d() +
  theme(
    legend.position = "none",
    axis.text.x = element_text(angle = 45, hjust = 1)
  ) +
  labs(
    title = "SDG Frequencies",
    subtitle = "Number of projects related to SDGs at University of Basel",
    x = "SDG",
    y = "Frequency"
  )


```



# Distribution of SDG across Time

Only meaningful Elsevir

# Distribution of SDG by organizational unit

Text describing organizational units incl. inline computed numbers. 

Text describing results in Figure. 

Figure showing frequency of SDGs by unit.

Interdisciplinarity (one unit versus multiple units?)


